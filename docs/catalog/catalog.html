<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>کاتالوگ پارسانا انرژی</title>
  <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="../css/style.css" />
  <link rel="stylesheet" href="../assets/services-style.css" />
  <style>
    #catalog-flipbook {
      width: 7067px;
      height: 10000px;
      margin: auto;
    }
    #catalog-flipbook .page {
      width: 100%;
      height: 100%;
      overflow: hidden;
    }
    #catalog-flipbook .page img {
      width: 100%;
      height: 100%;
      object-fit: contain;
      display: block;
    }
    @media (max-width: 768px) {
      #catalog-flipbook {
        width: 100%;
        height: auto;
      }
      #catalog-flipbook .page {
        height: auto;
      }
      #catalog-flipbook .page img {
        width: 100%;
        height: auto;
      }
    }
  </style>
</head>
<body>
  <div class="services-catalog">
    <header class="catalog-header">
      <img src="../images/logo.png" alt="لوگو" class="catalog-logo" />
      <h1>کاتالوگ پارسانا انرژی</h1>
    </header>
    <div class="catalog-link">
      <a href="../index.html" class="back-btn">بازگشت به سایت</a>
      <a href="catalog.pdf" class="contact-btn" download>دانلود PDF</a>
    </div>
    <div id="catalog-flipbook"></div>
    <div class="catalog-nav">
      <button id="prev-page" class="contact-btn" type="button">صفحه قبل</button>
      <span id="page-number">1/1</span>
      <button id="next-page" class="contact-btn" type="button">صفحه بعد</button>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/turn.js/3/turn.min.js"></script>
  <script>
    const totalPages = 6;
    const pageWidth = 7067;
    const pageHeight = 10000;
    const images = [];
    for (let i = 1; i <= totalPages; i++) {
      const num = String(i).padStart(4, '0');
      images.push(`catalog_pages-to-jpg-${num}.jpg`);
    }

    const $flip = $('#catalog-flipbook');
    images.forEach((src, i) => {
      const page = $('<div class="page"></div>');
      page.append(`<img src="${src}" alt="صفحه ${i + 1}" loading="lazy" />`);
      $flip.append(page);
    });

    $flip.turn({
      width: pageWidth,
      height: pageHeight,
      autoCenter: true,
      display: 'single',
      direction: 'rtl'
    });

    function updatePage() {
      const page = $flip.turn('page');
      $('#page-number').text(page + '/' + totalPages);
    }

    updatePage();
    $flip.bind('turned', updatePage);
    $('#prev-page').on('click', () => $flip.turn('previous'));
    $('#next-page').on('click', () => $flip.turn('next'));
  </script>
  <noscript>
    <div>
      <img src="catalog_pages-to-jpg-0001.jpg" alt="صفحه 1" />
      <img src="catalog_pages-to-jpg-0002.jpg" alt="صفحه 2" />
      <img src="catalog_pages-to-jpg-0003.jpg" alt="صفحه 3" />
      <img src="catalog_pages-to-jpg-0004.jpg" alt="صفحه 4" />
      <img src="catalog_pages-to-jpg-0005.jpg" alt="صفحه 5" />
      <img src="catalog_pages-to-jpg-0006.jpg" alt="صفحه 6" />
    </div>
  </noscript>
</body>
</html>
