function formatDate(e){try{return new Date(e).toLocaleDateString("fa-IR")}catch{return""}}function renderCard(e){return`\n  <article class="card">\n    <a href="/articles/${e.slug}/" class="card-cover" aria-label="${e.title}">\n      <img src="${e.cover}" alt="${e.title}" loading="lazy" width="1200" height="675">\n    </a>\n    <div class="card-body">\n      <div class="card-meta">${formatDate(e.date)} · ${e.readingTime} دقیقه مطالعه</div>\n      <h3 class="card-title"><a href="/articles/${e.slug}/">${e.title}</a></h3>\n      <p class="card-excerpt">${e.excerpt}</p>\n      <a href="/articles/${e.slug}/" class="card-readmore">ادامه مطلب</a>\n    </div>\n  </article>`}function renderLatest(e){document.getElementById("latest-articles").innerHTML=e.slice(0,5).map(e=>`<li><a href="/articles/${e.slug}/">${e.title}</a></li>`).join("")}!async function(){const e=await fetch("/articles/posts.json",{cache:"no-store"}),a=(await e.json()).sort((e,a)=>new Date(a.date)-new Date(e.date));document.getElementById("articles-grid").innerHTML=a.map(renderCard).join(""),renderLatest(a)}();